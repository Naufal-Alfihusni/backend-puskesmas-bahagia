<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Backend Dashboard</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <style>
      body {
        display: flex;
        height: 100vh;
      }
      .sidebar {
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        width: 250px;
        background-color: #343a40;
        color: white;
        padding: 20px;
        overflow-y: auto;
      }
      .content {
        margin-left: 250px;
        width: calc(100% - 250px);
        overflow-y: auto;
      }
      section {
        height: 100vh;
        padding: 20px;
      }
    </style>
  </head>
  <body>
    <!-- Sidebar -->
    <div class="sidebar">
      <h4>Menu</h4>
      <ul class="nav flex-column">
        <li class="nav-item">
          <a href="#dashboard" class="nav-link text-white">Dashboard</a>
        </li>
        <li class="nav-item">
          <a href="#timMedis" class="nav-link text-white">Tim Medis</a>
        </li>
        <li class="nav-item">
          <a href="#kelolaDataPasien" class="nav-link text-white"
            >Kelola Data Pasien</a
          >
        </li>
        <li class="nav-item">
          <a href="#daftarPasien" class="nav-link text-white">Daftar Pasien</a>
        </li>
        <li class="nav-item">
          <a href="login.html" class="nav-link text-white">Logout</a>
        </li>
      </ul>
    </div>

    <!-- Main Content -->
    <div class="content">
      <!-- Dashboard -->
      <section id="dashboard">
        <h2>Dashboard</h2>
        <p>Selamat datang, <span id="usernameDisplay"></span>!</p>
      </section>

      <!-- Tim Medis -->
      <section id="timMedis">
        <h2>Tim Medis</h2>
        <button class="btn btn-success mb-3" onclick="showForm('timMedisForm')">
          Tambah Data
        </button>
        <form id="timMedisForm" class="mb-3" style="display: none">
          <div class="row g-3">
            <div class="col-md-6">
              <label for="timMedisNama" class="form-label">Nama</label>
              <input type="text" class="form-control" id="timMedisNama" />
            </div>
            <div class="col-md-6">
              <label for="timMedisJabatan" class="form-label">Jabatan</label>
              <input type="text" class="form-control" id="timMedisJabatan" />
            </div>
            <div class="col-md-6">
              <label for="timMedisTempatLahir" class="form-label"
                >Tempat Lahir</label
              >
              <input
                type="text"
                class="form-control"
                id="timMedisTempatLahir"
              />
            </div>
            <div class="col-md-6">
              <label for="timMedisTanggalLahir" class="form-label"
                >Tanggal Lahir</label
              >
              <input
                type="date"
                class="form-control"
                id="timMedisTanggalLahir"
              />
            </div>
            <div class="col-md-6">
              <label for="timMedisAktif" class="form-label">Aktif</label>
              <select class="form-control" id="timMedisAktif">
                <option value="Ya">Ya</option>
                <option value="Tidak">Tidak</option>
              </select>
            </div>
          </div>
          <button
            type="button"
            class="btn btn-primary mt-3"
            onclick="addTimMedis()"
          >
            Simpan
          </button>
        </form>
        <table class="table" id="timMedisTable">
          <thead>
            <tr>
              <th>Nama</th>
              <th>Jabatan</th>
              <th>Tempat Lahir</th>
              <th>Tanggal Lahir</th>
              <th>Aktif</th>
              <th>Aksi</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>

      <!-- Kelola Data Pasien -->
      <section id="kelolaDataPasien">
        <h2>Kelola Data Pasien</h2>
        <button
          class="btn btn-success mb-3"
          onclick="showForm('dataPasienForm')"
        >
          Tambah Data
        </button>
        <form id="dataPasienForm" class="mb-3" style="display: none">
          <div class="row g-3">
            <div class="col-md-6">
              <label for="pasienNama" class="form-label">Nama</label>
              <input type="text" class="form-control" id="pasienNama" />
            </div>
            <div class="col-md-6">
              <label for="pasienAlamat" class="form-label">Alamat</label>
              <input type="text" class="form-control" id="pasienAlamat" />
            </div>
            <div class="col-md-6">
              <label for="pasienTempatLahir" class="form-label"
                >Tempat Lahir</label
              >
              <input type="text" class="form-control" id="pasienTempatLahir" />
            </div>
            <div class="col-md-6">
              <label for="pasienTanggalLahir" class="form-label"
                >Tanggal Lahir</label
              >
              <input type="date" class="form-control" id="pasienTanggalLahir" />
            </div>
            <div class="col-md-6">
              <label for="pasienGender" class="form-label">Gender</label>
              <select class="form-control" id="pasienGender">
                <option value="Laki-Laki">Laki-Laki</option>
                <option value="Perempuan">Perempuan</option>
              </select>
            </div>
            <div class="col-md-6">
              <label for="pasienNIK" class="form-label">NIK</label>
              <input type="number" class="form-control" id="pasienNIK" />
            </div>
            <div class="col-md-6">
              <label for="pasienNoTelp" class="form-label">No. Telepon</label>
              <input type="text" class="form-control" id="pasienNoTelp" />
            </div>
          </div>
          <button
            type="button"
            class="btn btn-primary mt-3"
            onclick="addDataPasien()"
          >
            Simpan
          </button>
        </form>
        <table class="table" id="dataPasienTable">
          <thead>
            <tr>
              <th>Nama</th>
              <th>Alamat</th>
              <th>Tempat Lahir</th>
              <th>Tanggal Lahir</th>
              <th>Gender</th>
              <th>NIK</th>
              <th>No. Telepon</th>
              <th>Aksi</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>

      <!-- Daftar Pasien -->
      <section id="daftarPasien">
        <h2>Daftar Pasien</h2>
        <table class="table">
          <thead>
            <tr>
              <th>Nama</th>
              <th>Alamat</th>
              <th>Tempat Lahir</th>
              <th>Tanggal Lahir</th>
              <th>Gender</th>
              <th>NIK</th>
              <th>No. Telepon</th>
            </tr>
          </thead>
          <tbody id="daftarPasienTable"></tbody>
        </table>
      </section>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const urlParams = new URLSearchParams(window.location.search);
        const username = urlParams.get("user");
        if (username) {
          document.getElementById("usernameDisplay").textContent = username;
        }
      });

      function showForm(formId) {
        const form = document.getElementById(formId);
        if (form.style.display === "none" || form.style.display === "") {
          form.style.display = "block";
        } else {
          form.style.display = "none";
        }
      }

      function addTimMedis() {
        const nama = document.getElementById("timMedisNama").value;
        const jabatan = document.getElementById("timMedisJabatan").value;
        const tempatLahir = document.getElementById(
          "timMedisTempatLahir"
        ).value;
        const tanggalLahir = document.getElementById(
          "timMedisTanggalLahir"
        ).value;
        const aktif = document.getElementById("timMedisAktif").value;

        const table = document
          .getElementById("timMedisTable")
          .querySelector("tbody");
        const row = table.insertRow();

        row.innerHTML = `
                <td>${nama}</td>
                <td>${jabatan}</td>
                <td>${tempatLahir}</td>
                <td>${tanggalLahir}</td>
                <td>${aktif}</td>
                <td><button class="btn btn-danger btn-sm" onclick="deleteRow(this)">Hapus</button></td>
            `;

        document.getElementById("timMedisForm").reset();
        showForm("timMedisForm");
      }

      function addDataPasien() {
        const nama = document.getElementById("pasienNama").value;
        const alamat = document.getElementById("pasienAlamat").value;
        const tempatLahir = document.getElementById("pasienTempatLahir").value;
        const tanggalLahir =
          document.getElementById("pasienTanggalLahir").value;
        const gender = document.getElementById("pasienGender").value;
        const nik = document.getElementById("pasienNIK").value;
        const noTelp = document.getElementById("pasienNoTelp").value;

        const table = document
          .getElementById("dataPasienTable")
          .querySelector("tbody");
        const daftarTable = document.getElementById("daftarPasienTable");
        const row = table.insertRow();

        row.innerHTML = `
                <td>${nama}</td>
                <td>${alamat}</td>
                <td>${tempatLahir}</td>
                <td>${tanggalLahir}</td>
                <td>${gender}</td>
                <td>${nik}</td>
                <td>${noTelp}</td>
                <td><button class="btn btn-danger btn-sm" onclick="deleteRow(this)">Hapus</button></td>
            `;

        // Add to Daftar Pasien Table
        const daftarRow = daftarTable.insertRow();
        daftarRow.innerHTML = `
                <td>${nama}</td>
                <td>${alamat}</td>
                <td>${tempatLahir}</td>
                <td>${tanggalLahir}</td>
                <td>${gender}</td>
                <td>${nik}</td>
                <td>${noTelp}</td>
            `;

        document.getElementById("dataPasienForm").reset();
        showForm("dataPasienForm");
      }

      function deleteRow(button) {
        const row = button.parentElement.parentElement;
        row.parentElement.removeChild(row);
      }
    </script>
  </body>
</html>
